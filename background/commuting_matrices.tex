\subsection{Properties of commuting matrices}

We will now present a useful decomposition of $\mathbb{C}^{n}$ induced by the commuting matrices $A_{1}, \ldots, A_{k} \in \mathbb{C}^{n \times n}$. Let $\sigma(A_{i})$ denote the spectrum of the matrix $A_{i}$. In what follows, let
\begin{align*}
\boldsymbol{\lambda} = (\lambda_{1}, \ldots, \lambda_{k}) \in \sigma(A_{1}) \times \cdots \times \sigma(A_{k}) .
\end{align*}
We remind the reader that $\ker(A_{i} - \lambda_{i})^{n}$ corresponds to the generalised eigenspace of $\lambda_{i}$ of $A_{i}$. Moreover, we define the following subspaces:
\begin{align*}
\mathcal{V}_{\boldsymbol{\lambda}} = \bigcap \limits_{i=1}^{k} \ker(A_{i} - \lambda_{i} I)^{n}.
\end{align*}
Also, let $\Sigma = \lbrace \boldsymbol{\lambda} \in \sigma(A_{1}) \times \cdots \times \sigma(A_{k}) : \mathcal{V}_{\boldsymbol{\lambda}} \neq \lbrace \boldsymbol{0} \rbrace \rbrace$.

\begin{theorem}
\label{subspace_decomposition}
For all $\boldsymbol{\lambda} = (\lambda_{1}, \ldots, \lambda_{k}) \in \Sigma$ and for all $i \in \lbrace 1, \ldots, k \rbrace$, the following properties hold:

\begin{enumerate}

\item $\mathcal{V}_{\boldsymbol{\lambda}}$ is invariant under $A_{i}$.

\item $\sigma(A_{i} \restriction_{\mathcal{V}_{\boldsymbol{\lambda}}}) = \lbrace \lambda_{i} \rbrace$.

\item $\mathbb{C}^{n} = \bigoplus \limits_{\boldsymbol{\lambda} \in \Sigma} \mathcal{V}_{\boldsymbol{\lambda}} .$

\end{enumerate}
\end{theorem}

\begin{proof}
We show, by induction on $k$, that the subspaces $\mathcal{V}_{\boldsymbol{\lambda}}$ satisfy the properties above.

When $k = 1$, the result follows from the existence of Jordan Canonical Forms. When $k > 1$, suppose that $\sigma(A_{k}) = \lbrace \mu_{1}, \ldots, \mu_{m} \rbrace$, and let $\mathcal{U}_{j} = \ker(A_{k} - \mu_{j} I)^{n}$, for $j \in \lbrace 1, \ldots, m \rbrace$. Again, it follows from the existence of Jordan Canonical Forms that
\begin{align*}
\mathbb{C}^{n} = \bigoplus \limits_{j = 1}^{m} \mathcal{U}_{m} .
\end{align*}
In what follows, $i \in \lbrace 1, \ldots, k-1 \rbrace$ and $j \in \lbrace 1, \ldots, m \rbrace$. Now, as $A_{k}$ and $A_{i}$ commute, so do $(A_{k}-\mu_{j} I)$ and $A_{i}$. Therefore, for all $\boldsymbol{v} \in \mathcal{U}_{j}$, $(A_{k} - \mu_{j} I)^{n} A_{i} \boldsymbol{v} = A_{i} (A-\mu_{j} I)^{n} \boldsymbol{v} = \boldsymbol{0}$, so $A_{i} \boldsymbol{v} \in \mathcal{U}_{j}$, that is, $\mathcal{U}_{j}$ is invariant under $A_{i}$. The result follows from applying the induction hypothesis to the commuting operators $A_{i} \restriction_{\mathcal{U}_{j}}$.
\end{proof}

We will also make use of the following well-known result on simultaneous triangularisation of commuting matrices. See, for example, \cite{CommutingMatrices}.

\begin{theorem}
\label{simultaneous-triangularisation}
Given $k$ commuting matrices $A_{1}, \ldots, A_{k} \in \overline{\mathbb{Q}}^{n \times n}$, there exists a matrix $P \in \mathit{GL}_{n}(\overline{\mathbb{Q}})$ such that $P^{-1}A_{i}P$ is upper triangular for all $i \in \lbrace 1, \ldots, k \rbrace$.
\end{theorem}
